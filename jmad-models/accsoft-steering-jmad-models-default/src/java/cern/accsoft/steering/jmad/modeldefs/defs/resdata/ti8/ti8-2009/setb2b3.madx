//
// this script sets the relative errors in the main bends of ti8
//

bnfac := 1E-4;
r.ref := 0.025;

k0fac := bnfac * b1.mbi;
k1fac := bnfac * 1 * b2.mbi/r.ref;
k2fac := bnfac * 2 * b3.mbi/(r.ref^2);


//
// MBI, MBIT
//

abi.81607 := abi.81607.nom * ( 1 + k0fac);
k1.81607 := (abi.81607.nom / l.MBI) * k1fac;
k2.81607 := (abi.81607.nom / l.MBI) * k2fac;

 MBI.81607          , k1 := k1.81607, k2 := k2.81607;
 MBI.81620          , k1 := k1.81607, k2 := k2.81607;
 MBI.81634          , k1 := k1.81607, k2 := k2.81607;
 MBI.81648          , k1 := k1.81607, k2 := k2.81607;
 MBI.81707          , k1 := k1.81607, k2 := k2.81607;
 MBI.81720          , k1 := k1.81607, k2 := k2.81607;
 MBI.81807          , k1 := k1.81607, k2 := k2.81607;
 MBI.81820          , k1 := k1.81607, k2 := k2.81607;
 MBI.81834          , k1 := k1.81607, k2 := k2.81607;
 MBI.81848          , k1 := k1.81607, k2 := k2.81607;
 MBI.81907          , k1 := k1.81607, k2 := k2.81607;
 MBI.81920          , k1 := k1.81607, k2 := k2.81607;
 MBI.81934          , k1 := k1.81607, k2 := k2.81607;
 MBI.81948          , k1 := k1.81607, k2 := k2.81607;
 MBI.82007          , k1 := k1.81607, k2 := k2.81607;
 MBI.82020          , k1 := k1.81607, k2 := k2.81607;
 MBI.82034          , k1 := k1.81607, k2 := k2.81607;
 MBI.82048          , k1 := k1.81607, k2 := k2.81607;
 MBI.82107          , k1 := k1.81607, k2 := k2.81607;
 MBI.82120          , k1 := k1.81607, k2 := k2.81607;
 MBI.82134          , k1 := k1.81607, k2 := k2.81607;
 MBI.82148          , k1 := k1.81607, k2 := k2.81607;
 MBI.82207          , k1 := k1.81607, k2 := k2.81607;
 MBI.82220          , k1 := k1.81607, k2 := k2.81607;
 MBI.82234          , k1 := k1.81607, k2 := k2.81607;
 MBI.82248          , k1 := k1.81607, k2 := k2.81607;
 MBI.82307          , k1 := k1.81607, k2 := k2.81607;
 MBI.82320          , k1 := k1.81607, k2 := k2.81607;
 MBI.82334          , k1 := k1.81607, k2 := k2.81607;
 MBI.82348          , k1 := k1.81607, k2 := k2.81607;
 MBI.82407          , k1 := k1.81607, k2 := k2.81607;
 MBI.82420          , k1 := k1.81607, k2 := k2.81607;
 MBI.82434          , k1 := k1.81607, k2 := k2.81607;
 MBI.82448          , k1 := k1.81607, k2 := k2.81607;
 MBI.82507          , k1 := k1.81607, k2 := k2.81607;
 MBI.82520          , k1 := k1.81607, k2 := k2.81607;
 MBI.82534          , k1 := k1.81607, k2 := k2.81607;
 MBI.82548          , k1 := k1.81607, k2 := k2.81607;
 MBI.82607          , k1 := k1.81607, k2 := k2.81607;
 MBI.82620          , k1 := k1.81607, k2 := k2.81607;
 MBI.82634          , k1 := k1.81607, k2 := k2.81607;
 MBI.82648          , k1 := k1.81607, k2 := k2.81607;
 MBI.82707          , k1 := k1.81607, k2 := k2.81607;
 MBI.82720          , k1 := k1.81607, k2 := k2.81607;
 MBI.82734          , k1 := k1.81607, k2 := k2.81607;
 MBI.82748          , k1 := k1.81607, k2 := k2.81607;
 MBI.82807          , k1 := k1.81607, k2 := k2.81607;
 MBI.82820          , k1 := k1.81607, k2 := k2.81607;
 MBI.82834          , k1 := k1.81607, k2 := k2.81607;
 MBI.82848          , k1 := k1.81607, k2 := k2.81607;
 MBI.82907          , k1 := k1.81607, k2 := k2.81607;
 MBI.82920          , k1 := k1.81607, k2 := k2.81607;
 MBI.82934          , k1 := k1.81607, k2 := k2.81607;
 MBI.82948          , k1 := k1.81607, k2 := k2.81607;
 MBI.83007          , k1 := k1.81607, k2 := k2.81607;
 MBI.83020          , k1 := k1.81607, k2 := k2.81607;
 MBI.83034          , k1 := k1.81607, k2 := k2.81607;
 MBI.83048          , k1 := k1.81607, k2 := k2.81607;
 MBI.83107          , k1 := k1.81607, k2 := k2.81607;
 MBI.83120          , k1 := k1.81607, k2 := k2.81607;
 MBI.83134          , k1 := k1.81607, k2 := k2.81607;
 MBI.83148          , k1 := k1.81607, k2 := k2.81607;
 MBI.83207          , k1 := k1.81607, k2 := k2.81607;
 MBI.83220          , k1 := k1.81607, k2 := k2.81607;
 MBI.83234          , k1 := k1.81607, k2 := k2.81607;
 MBI.83248          , k1 := k1.81607, k2 := k2.81607;
 MBI.83307          , k1 := k1.81607, k2 := k2.81607;
 MBI.83320          , k1 := k1.81607, k2 := k2.81607;
 MBI.83334          , k1 := k1.81607, k2 := k2.81607;
 MBI.83348          , k1 := k1.81607, k2 := k2.81607;
 MBI.83407          , k1 := k1.81607, k2 := k2.81607;
 MBI.83420          , k1 := k1.81607, k2 := k2.81607;
 MBI.83434          , k1 := k1.81607, k2 := k2.81607;
 MBI.83448          , k1 := k1.81607, k2 := k2.81607;
 MBI.83507          , k1 := k1.81607, k2 := k2.81607;
 MBI.83520          , k1 := k1.81607, k2 := k2.81607;
 MBI.83534          , k1 := k1.81607, k2 := k2.81607;
 MBI.83548          , k1 := k1.81607, k2 := k2.81607;
 MBI.83607          , k1 := k1.81607, k2 := k2.81607;
 MBI.83620          , k1 := k1.81607, k2 := k2.81607;
 MBI.83634          , k1 := k1.81607, k2 := k2.81607;
 MBI.83648          , k1 := k1.81607, k2 := k2.81607;
 MBI.83707          , k1 := k1.81607, k2 := k2.81607;
 MBI.83720          , k1 := k1.81607, k2 := k2.81607;
 MBI.83734          , k1 := k1.81607, k2 := k2.81607;
 MBI.83748          , k1 := k1.81607, k2 := k2.81607;
 MBI.83807          , k1 := k1.81607, k2 := k2.81607;
 MBI.83820          , k1 := k1.81607, k2 := k2.81607;
 MBI.83834          , k1 := k1.81607, k2 := k2.81607;
 MBI.83848          , k1 := k1.81607, k2 := k2.81607;
 MBI.83907          , k1 := k1.81607, k2 := k2.81607;
 MBI.83920          , k1 := k1.81607, k2 := k2.81607;
 MBI.83934          , k1 := k1.81607, k2 := k2.81607;
 MBI.83948          , k1 := k1.81607, k2 := k2.81607;
 MBI.84007          , k1 := k1.81607, k2 := k2.81607;
 MBI.84020          , k1 := k1.81607, k2 := k2.81607;
 MBI.84034          , k1 := k1.81607, k2 := k2.81607;
 MBI.84048          , k1 := k1.81607, k2 := k2.81607;
 MBI.84107          , k1 := k1.81607, k2 := k2.81607;
 MBI.84120          , k1 := k1.81607, k2 := k2.81607;
 MBI.84134          , k1 := k1.81607, k2 := k2.81607;
 MBI.84148          , k1 := k1.81607, k2 := k2.81607;
 MBI.84207          , k1 := k1.81607, k2 := k2.81607;
 MBI.84220          , k1 := k1.81607, k2 := k2.81607;
 MBI.84234          , k1 := k1.81607, k2 := k2.81607;
 MBI.84248          , k1 := k1.81607, k2 := k2.81607;
 MBI.84307          , k1 := k1.81607, k2 := k2.81607;
 MBI.84320          , k1 := k1.81607, k2 := k2.81607;
 MBI.84334          , k1 := k1.81607, k2 := k2.81607;
 MBI.84348          , k1 := k1.81607, k2 := k2.81607;
 MBI.84407          , k1 := k1.81607, k2 := k2.81607;
 MBI.84420          , k1 := k1.81607, k2 := k2.81607;
 MBI.84434          , k1 := k1.81607, k2 := k2.81607;
 MBI.84448          , k1 := k1.81607, k2 := k2.81607;
 MBI.84507          , k1 := k1.81607, k2 := k2.81607;
 MBI.84520          , k1 := k1.81607, k2 := k2.81607;
 MBI.84534          , k1 := k1.81607, k2 := k2.81607;
 MBI.84548          , k1 := k1.81607, k2 := k2.81607;
 MBI.84607          , k1 := k1.81607, k2 := k2.81607;
 MBI.84620          , k1 := k1.81607, k2 := k2.81607;
 MBI.84634          , k1 := k1.81607, k2 := k2.81607;
 MBI.84648          , k1 := k1.81607, k2 := k2.81607;
 MBI.84707          , k1 := k1.81607, k2 := k2.81607;
 MBI.84720          , k1 := k1.81607, k2 := k2.81607;
 MBI.84734          , k1 := k1.81607, k2 := k2.81607;
 MBI.84748          , k1 := k1.81607, k2 := k2.81607;
 MBI.84807          , k1 := k1.81607, k2 := k2.81607;
 MBI.84820          , k1 := k1.81607, k2 := k2.81607;
 MBI.84834          , k1 := k1.81607, k2 := k2.81607;
 MBI.84848          , k1 := k1.81607, k2 := k2.81607;
 MBI.84907          , k1 := k1.81607, k2 := k2.81607;
 MBI.84920          , k1 := k1.81607, k2 := k2.81607;
 MBI.84934          , k1 := k1.81607, k2 := k2.81607;
 MBI.84948          , k1 := k1.81607, k2 := k2.81607;
 MBI.85007          , k1 := k1.81607, k2 := k2.81607;
 MBI.85020          , k1 := k1.81607, k2 := k2.81607;
 MBI.85034          , k1 := k1.81607, k2 := k2.81607;
 MBI.85048          , k1 := k1.81607, k2 := k2.81607;
 MBI.85107          , k1 := k1.81607, k2 := k2.81607;
 MBI.85120          , k1 := k1.81607, k2 := k2.81607;
 MBI.85134          , k1 := k1.81607, k2 := k2.81607;
 MBI.85148          , k1 := k1.81607, k2 := k2.81607;
 MBI.85207          , k1 := k1.81607, k2 := k2.81607;
 MBI.85220          , k1 := k1.81607, k2 := k2.81607;
 MBI.85234          , k1 := k1.81607, k2 := k2.81607;
 MBI.85248          , k1 := k1.81607, k2 := k2.81607;
 MBI.85307          , k1 := k1.81607, k2 := k2.81607;
 MBI.85320          , k1 := k1.81607, k2 := k2.81607;
 MBI.85334          , k1 := k1.81607, k2 := k2.81607;
 MBI.85348          , k1 := k1.81607, k2 := k2.81607;
 MBI.85407          , k1 := k1.81607, k2 := k2.81607;
 MBI.85420          , k1 := k1.81607, k2 := k2.81607;
 MBI.85434          , k1 := k1.81607, k2 := k2.81607;
 MBI.85448          , k1 := k1.81607, k2 := k2.81607;
 MBI.85507          , k1 := k1.81607, k2 := k2.81607;
 MBI.85520          , k1 := k1.81607, k2 := k2.81607;
 MBI.85534          , k1 := k1.81607, k2 := k2.81607;
 MBI.85548          , k1 := k1.81607, k2 := k2.81607;
 MBI.85607          , k1 := k1.81607, k2 := k2.81607;
 MBI.85620          , k1 := k1.81607, k2 := k2.81607;
 MBI.85634          , k1 := k1.81607, k2 := k2.81607;
 MBI.85648          , k1 := k1.81607, k2 := k2.81607;
 MBI.85707          , k1 := k1.81607, k2 := k2.81607;
 MBI.85720          , k1 := k1.81607, k2 := k2.81607;
 MBI.85734          , k1 := k1.81607, k2 := k2.81607;
 MBI.85748          , k1 := k1.81607, k2 := k2.81607;
 MBI.85807          , k1 := k1.81607, k2 := k2.81607;
 MBI.85820          , k1 := k1.81607, k2 := k2.81607;
 MBI.85834          , k1 := k1.81607, k2 := k2.81607;
 MBI.85848          , k1 := k1.81607, k2 := k2.81607;
 MBI.85907          , k1 := k1.81607, k2 := k2.81607;
 MBI.85920          , k1 := k1.81607, k2 := k2.81607;
 MBI.85934          , k1 := k1.81607, k2 := k2.81607;
 MBI.85948          , k1 := k1.81607, k2 := k2.81607;
 MBI.86007          , k1 := k1.81607, k2 := k2.81607;
 MBI.86020          , k1 := k1.81607, k2 := k2.81607;
 MBI.86034          , k1 := k1.81607, k2 := k2.81607;
 MBI.86048          , k1 := k1.81607, k2 := k2.81607;
 MBI.86107          , k1 := k1.81607, k2 := k2.81607;
 MBI.86120          , k1 := k1.81607, k2 := k2.81607;
 MBI.86134          , k1 := k1.81607, k2 := k2.81607;
 MBI.86148          , k1 := k1.81607, k2 := k2.81607;
 MBI.86207          , k1 := k1.81607, k2 := k2.81607;
 MBI.86220          , k1 := k1.81607, k2 := k2.81607;
 MBI.86234          , k1 := k1.81607, k2 := k2.81607;
 MBI.86248          , k1 := k1.81607, k2 := k2.81607;
 MBI.86307          , k1 := k1.81607, k2 := k2.81607;
 MBI.86320          , k1 := k1.81607, k2 := k2.81607;
 MBI.86334          , k1 := k1.81607, k2 := k2.81607;
 MBI.86348          , k1 := k1.81607, k2 := k2.81607;
 MBI.86407          , k1 := k1.81607, k2 := k2.81607;
 MBI.86420          , k1 := k1.81607, k2 := k2.81607;
 MBI.86434          , k1 := k1.81607, k2 := k2.81607;
 MBI.86448          , k1 := k1.81607, k2 := k2.81607;
 MBI.86507          , k1 := k1.81607, k2 := k2.81607;
 MBI.86520          , k1 := k1.81607, k2 := k2.81607;
 MBI.86534          , k1 := k1.81607, k2 := k2.81607;
 MBI.86548          , k1 := k1.81607, k2 := k2.81607;
 MBI.86607          , k1 := k1.81607, k2 := k2.81607;
 MBI.86620          , k1 := k1.81607, k2 := k2.81607;
 MBI.86634          , k1 := k1.81607, k2 := k2.81607;
 MBI.86648          , k1 := k1.81607, k2 := k2.81607;
 MBI.86707          , k1 := k1.81607, k2 := k2.81607;
 MBI.86720          , k1 := k1.81607, k2 := k2.81607;
 MBI.86734          , k1 := k1.81607, k2 := k2.81607;
 MBI.86748          , k1 := k1.81607, k2 := k2.81607;
 MBI.86807          , k1 := k1.81607, k2 := k2.81607;
 MBI.86820          , k1 := k1.81607, k2 := k2.81607;
 MBI.86834          , k1 := k1.81607, k2 := k2.81607;
 MBI.86848          , k1 := k1.81607, k2 := k2.81607;
 MBI.86907          , k1 := k1.81607, k2 := k2.81607;
 MBI.86920          , k1 := k1.81607, k2 := k2.81607;
 MBI.86934          , k1 := k1.81607, k2 := k2.81607;
 MBI.86948          , k1 := k1.81607, k2 := k2.81607;
 MBI.87007          , k1 := k1.81607, k2 := k2.81607;
 MBI.87020          , k1 := k1.81607, k2 := k2.81607;
 MBI.87034          , k1 := k1.81607, k2 := k2.81607;
 MBI.87048          , k1 := k1.81607, k2 := k2.81607;
 MBI.87107          , k1 := k1.81607, k2 := k2.81607;
 MBI.87120          , k1 := k1.81607, k2 := k2.81607;
 MBI.87134          , k1 := k1.81607, k2 := k2.81607;
 MBI.87148          , k1 := k1.81607, k2 := k2.81607;
 MBI.87410          , k1 := k1.81607, k2 := k2.81607;
 MBI.87424          , k1 := k1.81607, k2 := k2.81607;
 MBI.87507          , k1 := k1.81607, k2 := k2.81607;
 MBI.87520          , k1 := k1.81607, k2 := k2.81607;
 MBI.87534          , k1 := k1.81607, k2 := k2.81607;
 MBI.87548          , k1 := k1.81607, k2 := k2.81607;
 MBIT.87207         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87220         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87234         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87248         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87307         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87320         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87334         , k1 := k1.81607, k2 := k2.81607;
 MBIT.87348         , k1 := k1.81607, k2 := k2.81607;
 
 
 //
 // MBHC.4001
 //
abih.400107 := abih.400107.nom * ( 1 + (k0fac * on_b2b3_all_magnets));
k1.400107 := (abih.400107.nom / l.MBHC) * k1fac * on_b2b3_all_magnets;
k2.400107 := (abih.400107.nom / l.MBHC) * k2fac * on_b2b3_all_magnets;

 MBHC.400107        , k1 := k1.400107, k2 := k2.400107;
 MBHC.400118        , k1 := k1.400107, k2 := k2.400107;
 MBHC.400129        , k1 := k1.400107, k2 := k2.400107;

 //
 // MBHA.4003
 //
abih.400309.nom := abih.400309 * ( 1 + (k0fac * on_b2b3_all_magnets));
k1.400309 := (abih.400309.nom / l.MBHA) * k1fac * on_b2b3_all_magnets;
k2.400309 := (abih.400309.nom / l.MBHA) * k2fac * on_b2b3_all_magnets;

 MBHA.400309        , k1 := k1.400309, k2 := k2.400309;
 MBHA.400318        , k1 := k1.400309, k2 := k2.400309;
 MBHA.400326        , k1 := k1.400309, k2 := k2.400309;
 MBHA.400334        , k1 := k1.400309, k2 := k2.400309;


abih.87833 := abih.87833.nom * ( 1 + (k0fac * on_b2b3_all_magnets));
k1.87833 := (abih.87833.nom / l.MBIAH) * k1fac * on_b2b3_all_magnets;
k2.87833 := (abih.87833.nom / l.MBIAH) * k2fac * on_b2b3_all_magnets;
 
 MBIAH.87833        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87841        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87850        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87858        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87866        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87874        , k1 := k1.87833, k2 := k2.87833;
 MBIAH.87883        , k1 := k1.87833, k2 := k2.87833;
 
abiv.81107 := abiv.81107.nom * ( 1 + (k0fac * on_b2b3_all_magnets));
k1.81107 := (abiv.81107.nom / l.MBIAV) * k1fac * on_b2b3_all_magnets;
k2.81107 := (abiv.81107.nom / l.MBIAV) * k2fac * on_b2b3_all_magnets;
 
 MBIAV.81107        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81116        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81125        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81134        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81144        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81153        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81507        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81516        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81525        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81534        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81544        , k1 := k1.81107, k2 := k2.81107;
 MBIAV.81553        , k1 := k1.81107, k2 := k2.81107;
 
abiv.87715 := abiv.87715.nom * ( 1 + (k0fac * on_b2b3_all_magnets)); 
k1.87715 := (abiv.87715.nom / l.MBIBV) * k1fac * on_b2b3_all_magnets;
k2.87715 := (abiv.87715.nom / l.MBIBV) * k2fac * on_b2b3_all_magnets;

 MBIBV.87715        , k1 := k1.87715, k2 := k2.87715;
 MBIBV.87722        , k1 := k1.87715, k2 := k2.87715;
 MBIBV.87728        , k1 := k1.87715, k2 := k2.87715;
 MBIBV.87735        , k1 := k1.87715, k2 := k2.87715;
 MBIBV.87742        , k1 := k1.87715, k2 := k2.87715;
 
 
